import{_ as n,e as o}from"./index-CJZhUHdm.js";const r={config:{drawerId:"settings-menu",backdropId:"sidebar-backdrop",activeClass:"active",openClass:"is-open",mainPanelId:"main-settings-panel"},init(){if(console.log("SettingsDrawer: Initializing..."),this.drawer=document.getElementById(this.config.drawerId),this.backdrop=document.querySelector(`.${this.config.backdropId}`),!this.drawer){console.error("SettingsDrawer: Critical element missing: #settings-menu");return}this.bindEvents(),console.log("SettingsDrawer: Ready.")},bindEvents(){this.backdrop&&this.backdrop.addEventListener("click",()=>this.close());const e=this.drawer.querySelector("#settings-back-btn");e&&e.addEventListener("click",t=>{t.preventDefault(),this.close()});const i=this.drawer.querySelector("#admin-mode-option");if(i){const t=i.querySelector("#admin-indicator-icon");i.addEventListener("click",()=>{o.toggleMode(),o.isEditing&&this.close()}),o.subscribe(s=>{s.type==="MODE_CHANGED"&&(s.isEditing?(i.classList.add("active-state"),t&&(t.textContent="✅"),t&&t.classList.add("rotating")):(i.classList.remove("active-state"),t&&(t.textContent="⚙️"),t&&t.classList.remove("rotating")))})}},open(){console.log("SettingsDrawer: open()"),n(()=>import("./SidebarManager-BcOD6Mmh.js"),[]).then(e=>{e.default.open(this.config.drawerId,{disableBackdrop:!0}),this.showPanel(this.config.mainPanelId)})},close(){console.log("SettingsDrawer: close()"),n(()=>import("./SidebarManager-BcOD6Mmh.js"),[]).then(e=>{e.default.close(this.config.drawerId)})},toggle(){console.log("SettingsDrawer: toggle()"),n(()=>import("./SidebarManager-BcOD6Mmh.js"),[]).then(e=>{e.default.toggle(this.config.drawerId,{disableBackdrop:!0}),this.drawer&&this.drawer.classList.contains("active")&&this.showPanel(this.config.mainPanelId)})},showPanel(e){console.log(`SettingsDrawer: showing panel ${e}`);const i=document.getElementById(e);if(!i){console.warn(`SettingsDrawer: panel #${e} not found.`);return}this.drawer.querySelectorAll(".settings-panel").forEach(s=>{s.classList.add("u-hidden"),s.classList.remove("u-fade-in"),s.classList.remove("screen-visible")}),i.classList.remove("u-hidden","screen-hidden"),i.classList.add("u-fade-in")}};export{r as default};
