const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DsW3iqv0.js","assets/index-SV0FPQTz.css"])))=>i.map(i=>d[i]);
import{_ as i,A as d}from"./index-DsW3iqv0.js";const f={config:{drawerId:"drawer-menu",hamburgerId:"hamburger-btn",backdropId:"sidebar-backdrop",activeClass:"active",openClass:"is-open",zIndex:3e3},standardActions:[{label:"Ã“rdenes",action:"orders",icon:"ðŸ“"},{label:"Crear orden",action:"createOrder",icon:"ðŸ›’"}],init(){if(console.log("NavigationDrawer: Initializing..."),this.drawer=document.getElementById(this.config.drawerId),this.hamburger=document.getElementById(this.config.hamburgerId),this.backdrop=document.querySelector(`.${this.config.backdropId}`),this.backdrop||(this.backdrop=document.createElement("div"),this.backdrop.className=this.config.backdropId,document.body.appendChild(this.backdrop)),!this.drawer||!this.hamburger){console.error("NavigationDrawer: Critical elements missing from DOM.");return}this.bindEvents(),console.log("NavigationDrawer: Ready."),d.interfaces&&d.interfaces.length>0&&this.renderDynamicMenu(d.interfaces,e=>window.AppInit.loadContent(e)),window.addEventListener("app:interfaces-ready",e=>{console.log("[NavigationDrawer] Interfaces Ready Event received"),this.renderDynamicMenu(e.detail,r=>window.AppInit.loadContent(r))})},bindEvents(){this.hamburger&&this.hamburger.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this.toggle()})},toggle(){console.log("NavigationDrawer: toggle()"),i(()=>import("./SidebarManager-BcOD6Mmh.js"),[]).then(e=>{e.default.toggle(this.config.drawerId,{disableBackdrop:!0,closeOnClickOutside:!0,triggerId:this.config.hamburgerId})})},open(){console.log("NavigationDrawer: open()"),i(()=>import("./SidebarManager-BcOD6Mmh.js"),[]).then(e=>{e.default.open(this.config.drawerId)})},close(){console.log("NavigationDrawer: close()"),i(()=>import("./SidebarManager-BcOD6Mmh.js"),[]).then(e=>{e.default.close(this.config.drawerId)})},renderDynamicMenu(e,r){if(!this.drawer)return;const n=this.drawer.querySelector(".drawer-content");if(!n)return;n.querySelectorAll(".nav-button").forEach(t=>t.remove()),[...(e||[]).map(t=>({label:t.label,target:t.slug})),...this.standardActions].forEach(t=>{const a=document.createElement("button");a.className="btn btn-primary nav-button",a.textContent=t.label,t.target&&a.setAttribute("data-target",t.target),t.action&&a.setAttribute("data-action",t.action);const c=t.action||t.target;a.setAttribute("data-translate",`menu.${c}`),a.setAttribute("data-namespace","menu"),a.setAttribute("data-original-text",t.label),a.addEventListener("click",async l=>{l.preventDefault(),this.close(),t.target&&typeof r=="function"?await r(t.target):t.action&&this._executeAction(t.action)}),n.appendChild(a)});const s=n.querySelector(".drawer-footer");s&&n.appendChild(s)},async _executeAction(e){let r=window.OrderSystem;if(!r)try{const n=await i(()=>import("./index-DsW3iqv0.js").then(o=>o.o),__vite__mapDeps([0,1]));r=window.OrderSystem||n.default}catch(n){console.error("[NavigationDrawer] Failed to resolve OrderSystem",n)}r&&(e==="orders"?r.showOrdersScreen():e==="createOrder"&&r.toggleOrderMode())},handleNavigation(e){if(console.log(`NavigationDrawer: Navigating to ${e}`),this.close(),window.AppInit&&typeof window.AppInit.loadContent=="function"){window.AppInit.loadContent(e);const r=document.getElementById("nav-title"),n=this.menuItems.find(o=>o.id===e);r&&n&&(r.textContent=n.label)}else console.error("NavigationDrawer: AppInit.loadContent is not available.")}};export{f as default};
